<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tatami_mtx: Create &lt;tt&gt;tatami&lt;/tt&gt; matrices from Matrix Market files</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">tatami_mtx
   </div>
   <div id="projectbrief">Matrix Market to tatami matrices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Create <code>tatami</code> matrices from Matrix Market files </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__2github_2workspace_2README"></a> <img src="https://github.com/tatami-inc/tatami_mtx/actions/workflows/run-tests.yaml/badge.svg" alt="Unit tests" style="pointer-events: none;" class="inline"/> <img src="https://github.com/tatami-inc/tatami_mtx/actions/workflows/doxygenate.yaml/badge.svg" alt="Documentation" style="pointer-events: none;" class="inline"/> <a href="https://codecov.io/gh/tatami-inc/tatami_mtx"><img src="https://codecov.io/gh/tatami-inc/tatami_mtx/branch/master/graph/badge.svg?token=Z189ORCLLR" alt="Codecov" style="pointer-events: none;" class="inline"/></a></p>
<h1>Overview</h1>
<p>Pretty much as it says on the tin. This provides one-line wrappers around the <a href="https://github.com/tatami-inc/eminem"><b>eminem</b></a> parser to enable quick creation of <a href="https://github.com/tatami-inc/tatami"><b>tatami</b></a> matrices from Matrix Market files.</p>
<h1>Quick start</h1>
<p>The <code>load_matrix_from_file()</code> function will create a <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a></code> from a Matrix Market file:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="tatami__mtx_8hpp.html">tatami_mtx/tatami_mtx.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="structtatami__mtx_1_1Options.html">tatami_mtx::Options</a> opt;</div>
<div class="line">opt.<a class="code hl_variable" href="structtatami__mtx_1_1Options.html#ab8c5093ae706e577282bf477fe72c737">row</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="keyword">auto</span> mat = tatami_mtx::load_matrix_from_text_file&lt;double, int&gt;(<span class="stringliteral">&quot;some_matrix.mtx&quot;</span>, opt);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// If compiled with Gzip support:</span></div>
<div class="line"><span class="keyword">auto</span> mat2 = tatami_mtx::load_matrix_from_gzip_file&lt;double, int&gt;(<span class="stringliteral">&quot;some_matrix.mtx.gz&quot;</span>, opt);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// If the compression is unknown:</span></div>
<div class="line"><span class="keyword">auto</span> mat3 = tatami_mtx::load_matrix_from_some_file&lt;double, int&gt;(<span class="stringliteral">&quot;some_matrix.mtx.??&quot;</span>, opt);</div>
<div class="ttc" id="astructtatami__mtx_1_1Options_html"><div class="ttname"><a href="structtatami__mtx_1_1Options.html">tatami_mtx::Options</a></div><div class="ttdoc">Options for load_matrix() and friends.</div><div class="ttdef"><b>Definition</b> load_matrix.hpp:25</div></div>
<div class="ttc" id="astructtatami__mtx_1_1Options_html_ab8c5093ae706e577282bf477fe72c737"><div class="ttname"><a href="structtatami__mtx_1_1Options.html#ab8c5093ae706e577282bf477fe72c737">tatami_mtx::Options::row</a></div><div class="ttdeci">bool row</div><div class="ttdef"><b>Definition</b> load_matrix.hpp:30</div></div>
<div class="ttc" id="atatami__mtx_8hpp_html"><div class="ttname"><a href="tatami__mtx_8hpp.html">tatami_mtx.hpp</a></div><div class="ttdoc">Umbrella header for the tatami_mtx library.</div></div>
</div><!-- fragment --><p>This will return a compressed sparse column matrix for coordinate formats and a column-major dense matrix for array formats. If <code>opt.row = true</code>, row-based matrices are returned instead.</p>
<p>The template arguments control the interface and storage types - for example, the above call will return a <code><a class="elRef" href="https://tatami-inc.github.io/tatami/classtatami_1_1Matrix.html">tatami::Matrix</a>&lt;double, int&gt;</code> interface The storage types are automatically chosen based on the Matrix Market field (for data) and the size of the matrix (for indices, only relevant for sparse outputs). Users can customize these by passing the desired types directly:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> mat4 = <a class="code hl_function" href="namespacetatami__mtx.html#af7f6bd31cf0ba74bb5a2d14180b66b16">tatami_mtx::load_matrix_from_text_file</a>&lt;</div>
<div class="line">    <span class="keyword">true</span>, <span class="comment">/* Row-based */</span></div>
<div class="line">    double, <span class="comment">/* Data interface */</span></div>
<div class="line">    int, <span class="comment">/* Index interface */</span></div>
<div class="line">    int32_t, <span class="comment">/* Data storage */</span></div>
<div class="line">    uint16_t <span class="comment">/* Index storage */</span></div>
<div class="line">&gt;(<span class="stringliteral">&quot;some_matrix.mtx&quot;</span>);</div>
<div class="ttc" id="anamespacetatami__mtx_html_af7f6bd31cf0ba74bb5a2d14180b66b16"><div class="ttname"><a href="namespacetatami__mtx.html#af7f6bd31cf0ba74bb5a2d14180b66b16">tatami_mtx::load_matrix_from_text_file</a></div><div class="ttdeci">std::shared_ptr&lt; tatami::Matrix&lt; Value_, Index_ &gt; &gt; load_matrix_from_text_file(const char *filepath, const Options &amp;options)</div><div class="ttdef"><b>Definition</b> load_matrix.hpp:262</div></div>
</div><!-- fragment --><p>Check out the <a href="https://tatami-inc.github.io/tatami_mtx">reference documentation</a> for more details.</p>
<h1>Building projects</h1>
<h2>CMake with <code>FetchContent</code></h2>
<p>If you're using CMake, you just need to add something like this to your <code>CMakeLists.txt</code>:</p>
<div class="fragment"><div class="line">include(FetchContent)</div>
<div class="line"> </div>
<div class="line">FetchContent_Declare(</div>
<div class="line">  tatami_mtx</div>
<div class="line">  GIT_REPOSITORY https://github.com/tatami-inc/tatami_mtx</div>
<div class="line">  GIT_TAG master # or any version of interest </div>
<div class="line">)</div>
<div class="line"> </div>
<div class="line">FetchContent_MakeAvailable(tatami_mtx)</div>
</div><!-- fragment --><p>Then you can link to <b><a class="el" href="namespacetatami__mtx.html" title="Read tatami matrices from Matrix Market files.">tatami_mtx</a></b> to make the headers available during compilation:</p>
<div class="fragment"><div class="line"># For executables:</div>
<div class="line">target_link_libraries(myexe tatami_mtx)</div>
<div class="line"> </div>
<div class="line"># For libaries</div>
<div class="line">target_link_libraries(mylib INTERFACE tatami_mtx)</div>
</div><!-- fragment --><h2>CMake using <code>find_package()</code></h2>
<p>You can install the library by cloning a suitable version of this repository and running the following commands:</p>
<div class="fragment"><div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake .. -DTATAMI_MTX_TESTS=OFF</div>
<div class="line">cmake --build . --target install</div>
</div><!-- fragment --><p>Then you can use <code>find_package()</code> as usual:</p>
<div class="fragment"><div class="line">find_package(tatami_tatami_mtx CONFIG REQUIRED)</div>
<div class="line">target_link_libraries(mylib INTERFACE tatami::tatami_mtx)</div>
</div><!-- fragment --><h2>Manual</h2>
<p>If you're not using CMake, the simple approach is to just copy the files the <code>include/</code> subdirectory - either directly or with Git submodules - and include their path during compilation with, e.g., GCC's <code>-I</code>. You'll also need to link to the <a href="https://github.com/tatami-inc/tatami"><b>tatami</b></a> and <a href="https://github.com/tatami-inc/eminem"><b>eminem</b></a> libraries (and their dependencies). </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
